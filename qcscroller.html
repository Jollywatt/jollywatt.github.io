---
---
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>QC by Jeph Jacques</title>

<style>

body {
	color: white;
	background: black;
	margin: 0;
}

a, a:visited {
	color: white;
}

h1 {
	font-family: Impact, Arial;
}

img {
	display: block;
	margin: auto;
	max-width: 100vw;
}

#controls {
	text-align: center;
	margin: 50px 0;
}

input#goto {
	width: 4em;
}

</style>
</head>
<body>
	<div id="controls">
		<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgJy0vL1czQy8vRFREIFNWRyAyMDAxMDkwNC8vRU4nICdodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCc+Cjxzdmcgd2lkdGg9IjE4NTlwdCIgaGVpZ2h0PSIyNzhwdCIgdmVyc2lvbj0iMS4wIiB2aWV3Qm94PSIwIDAgMTg1OSAyNzgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjc4KSBzY2FsZSguMSAtLjEpIiBmaWxsPSIjZmZmIj4KPHBhdGggZD0ibTQ3MCAyNzU2Yy0yNTItNTYtMzkwLTI5OS00NDYtNzg0LTIwLTE2OS0yMi02MzYtNS04MDIgNTItNDkxIDE5OC03NjAgNDQ2LTgyNSAzMi04IDEwMS0xNSAxNTEtMTVoOTJsMTE2LTI5MGgxMjRjMTE0IDAgMTI0IDEgMTE4IDE4LTQgOS0zOSAxMDAtNzggMjAxLTQ2IDEyMC02OCAxODgtNjIgMTk2IDEyNyAxNjYgMTkwIDMzOCAyMzEgNjM1IDIyIDE1NyAyNSA3MjIgNSA4OTUtMjcgMjMxLTc5IDQyNi0xNDUgNTQ1LTQyIDc1LTEzMCAxNjEtMTk3IDE5Mi05OCA0Ny0yMzUgNjAtMzUwIDM0em0xOTQtMjY4YzYzLTE5IDEzNi05NyAxNzMtMTg4IDYzLTE1MCA5My0zODYgOTMtNzE1LTEtNjYwLTEwMi05NjQtMzI2LTk4My0xODItMTUtMjk4IDE5Ny0zMzUgNjE4LTE2IDE4MC03IDY3MCAxNSA4MDUgMzEgMTk0IDc4IDMzMCAxMzkgNDAxIDU2IDY2IDE0OCA4OSAyNDEgNjJ6Ii8+CjxwYXRoIGQ9Im0yMTAwIDI3NDBjLTI1Mi02OC00MjUtMjI0LTUyMS00NzAtODQtMjE0LTExNC00NDItMTA2LTgwMyA2LTMyNSA0MC01MTEgMTI4LTcwNSAxMTEtMjQ2IDM0OC00MTIgNjIwLTQzNyA4Mi03IDIwOCA4IDIxOSAyNiA0IDYgMTEgNDggMTQgOTMgNCA0NCA5IDk2IDEzIDExNGw1IDMyaC0xMTljLTczIDAtMTQxIDYtMTc2IDE1LTI0NCA2My0zODUgMjcwLTQzMiA2MzItMjAgMTQ5LTIwIDQ1NyAwIDYwNiAzNiAyNzYgMTMzIDQ3NSAyNzcgNTY5IDEwNSA2OSAyMjEgOTQgMzYzIDc5IDQ0LTQgODEtNyA4My02IDcgNS0yOSAyNTAtMzggMjU5LTYgNi02NSAxMS0xMzMgMTMtOTggMi0xMzctMS0xOTctMTd6Ii8+CjxwYXRoIGQ9Im00MTEwIDI3NDBjLTI1Mi02OC00MjUtMjI0LTUyMS00NzAtODQtMjE0LTExNC00NDItMTA2LTgwMyA2LTMyNSA0MC01MTEgMTI4LTcwNSAxMTEtMjQ2IDM0OC00MTIgNjIwLTQzNyA4Mi03IDIwOCA4IDIxOSAyNiA0IDYgMTEgNDggMTQgOTMgNCA0NCA5IDk2IDEzIDExNGw1IDMyaC0xMTljLTEyOSAwLTIwMyAxNC0yODEgNTQtMjM1IDExOS0zNDIgNDAxLTM0MiA4OTYgMCAzMDcgMzYgNTA4IDEyMSA2NzIgNjYgMTI1IDE1MiAyMDcgMjY3IDI1MiA2NiAyNSAxNzcgMzcgMjY3IDI3IDQ0LTQgODEtNyA4My02IDcgNS0yOSAyNTAtMzggMjU5LTYgNi02NSAxMS0xMzMgMTMtOTggMi0xMzctMS0xOTctMTd6Ii8+CjxwYXRoIGQ9Im0xMDY1NyAyNzMzYy0yLTUgODUtNTM3IDE5NC0xMTgzczE5OC0xMTc4IDE5OS0xMTgyYzAtNSA3NC04IDE2NC04aDE2NGwxMSA2M2MyMCAxMTIgMzgxIDIyNzEgMzg0IDIyOTIgMiAxOS01IDIwLTExOSAyMy0xMTAgMi0xMjIgMS0xMjYtMTUtMi0xMC03NC00MjktMTU5LTkzMS05MC01MzItMTU3LTkwNi0xNjEtODk1LTQgMTAtNzMgNDE4LTE1MyA5MDgtODEgNDkwLTE0OSA5MDAtMTUyIDkxMy01IDIxLTkgMjItMTIzIDIyLTY2IDAtMTIxLTMtMTIzLTd6Ii8+CjxwYXRoIGQ9Im04MjQzIDI1NjVjLTg2LTM3LTg4LTIwNi0zLTI1MCA0NC0yMyAxMzEtMjAgMTY0IDYgODAgNjMgNzIgMjAzLTE0IDI0Ni0zMyAxNy0xMDcgMTYtMTQ3LTJ6Ii8+CjxwYXRoIGQ9Im0xMjEwMyAyNTY1Yy04Ni0zNy04OC0yMDYtMy0yNTAgNDQtMjMgMTMxLTIwIDE2NCA2IDgwIDYzIDcyIDIwMy0xNCAyNDYtMzMgMTctMTA3IDE2LTE0Ny0yeiIvPgo8cGF0aCBkPSJtNTA4NiAyMDY0Yy0yMjUtNTQtMzcwLTI1OC00MjEtNTk0LTE3LTExMi0yMC0zNzUtNC00ODUgNDctMzM4IDE5MC01NTggNDA4LTYyNSA3OC0yNCAyMDItMjYgMjg2LTUgMjY3IDY5IDQyNSAzODMgNDI1IDg0NCAwIDQ3NS0xNjMgNzkyLTQ0NSA4NjYtNzIgMTgtMTcwIDE4LTI0OS0xem0yMjItMjYwYzEzMS01NCAyMDQtMjM1IDIxOC01MzQgMTAtMjE0LTE2LTQwMy03Mi01MTQtNTQtMTA4LTEyNS0xNTUtMjM1LTE1Ni0yMjItMS0zMjkgMjI2LTMxNiA2NzAgMyAxMDMgMTIgMjA2IDIxIDI1MCAzMSAxNDMgMTA2IDI1NSAxOTIgMjg1IDUyIDE5IDE0NiAxOSAxOTItMXoiLz4KPHBhdGggZD0ibTY1OTMgMjA2NmMtNjItMjAtMTMxLTYzLTE5MC0xMThsLTUxLTQ5LTIxIDU1Yy0xMSAzMC0yMyA2Ny0yNyA4MS02IDI0LTggMjUtOTUgMjVoLTg5di04NTAtODUwaDEyNCAxMjVsMyA1NDJjMyA1MzcgMyA1NDQgMjYgNjA3IDMxIDg2IDc4IDE1NiAxNDEgMjEzIDU5IDUzIDExMiA3NCAxNjMgNjQgNDctOSA3NC00MCA5NC0xMTEgMTYtNTQgMTgtMTI3IDIyLTY4N2wzLTYyOGgxMzAgMTI5djUzOGMwIDU4OCAwIDU4MiA2MCA3MDIgMTAzIDIwMyAzMDMgMjU4IDM1NyA5OCAxNi00OCAxOC0xMTMgMjEtNjk1bDMtNjQzaDEzMCAxMzBsLTQgNjcyYy00IDc0MC01IDc0Ni02OCA4NzUtNTIgMTA4LTEzNCAxNTktMjc0IDE3MC01MiA0LTg3IDEtMTMwLTEyLTc1LTIxLTE4MS05MS0yMzgtMTU2bC00My00OS0yNCA1MWMtMzAgNjItOTUgMTIyLTE1OCAxNDQtNjUgMjMtMTk2IDI5LTI0OSAxMXoiLz4KPHBhdGggZD0ibTkzMzAgMjA3M2MtNTUtOS0xNTgtNDYtMjEwLTc2LTY5LTM5LTE2NS0xMzYtMjA5LTIxMC0xNTItMjU3LTE3NC03MzUtNDctMTA0NyA3NS0xODggMjA2LTMxNSAzODYtMzc2IDc0LTI1IDMyNi0yNyAzODAtM2wzNiAxNiAxOCAxMTdjMTAgNjQgMTYgMTE5IDE0IDEyMi0zIDItMjUgMC00OS01LTI0LTYtODctMTEtMTQwLTExLTI1MSAwLTQwMiAxMjEtNDU1IDM2NS0yNiAxMjQtMjQgMzk0IDUgNTAwIDU1IDIwNCAxNTMgMzEwIDMyNyAzNTEgODIgMTkgMjEwIDE1IDI2OC0xMCAyMi05IDQxLTE1IDQzLTEyIDIgMi0yIDU5LTkgMTI3bC0xMyAxMjQtNjUgMTdjLTYxIDE2LTIxNiAyMi0yODAgMTF6Ii8+CjxwYXRoIGQ9Im0xMzA1OCAyMDY0Yy04Mi0xOS0xMzQtNDgtMjAxLTExMy0xMjctMTIxLTE5Mi0zMDAtMjE3LTU5OS0xNC0xNjItMS0zMzYgMzYtNDgwIDg1LTMzNyAzMTAtNTMyIDYxMy01MzIgODUgMCAxOTYgMTUgMjE5IDI5IDEyIDcgNTggMjM5IDQ5IDI0Ny0yIDItMTktMS0zOC03LTE5LTUtNzktMTAtMTM0LTExLTI2OS0zLTQxOSAxMTMtNDY5IDM2NC05IDQyLTE2IDkxLTE2IDEwOHYzMGgzODAgMzgwbDYgMjVjNCAxNCA0IDEyNiAxIDI0OC00IDE5Ny03IDIzMy0zMCAzMjAtNzAgMjYzLTIyMCAzODktNDYxIDM4Ni0zMyAwLTg3LTctMTE4LTE1em0yMDktMjUzYzg5LTQxIDE0MS0xNjEgMTUwLTM0OGw2LTExM2gtMjYzLTI2Mmw3IDc4YzE5IDIwMyA3NyAzMjYgMTc4IDM3NyA2MiAzMCAxMjUgMzIgMTg0IDZ6Ii8+CjxwYXRoIGQ9Im0xNjI1OCAyMDY0Yy04Mi0xOS0xMzQtNDgtMjAxLTExMy0xMjctMTIxLTE5Mi0zMDAtMjE3LTU5OS0xNC0xNjItMS0zMzYgMzYtNDgwIDg1LTMzNyAzMTAtNTMyIDYxMy01MzIgODUgMCAxOTYgMTUgMjE5IDI5IDEyIDcgNTggMjM5IDQ5IDI0Ny0yIDItMTktMS0zOC03LTE5LTUtNzktMTAtMTM0LTExLTI2OS0zLTQxOSAxMTMtNDY5IDM2NC05IDQyLTE2IDkxLTE2IDEwOHYzMGgzODAgMzgwbDYgMjVjNCAxNCA0IDEyNiAxIDI0OC00IDE5Ny03IDIzMy0zMCAzMjAtNzAgMjYzLTIyMCAzODktNDYxIDM4Ni0zMyAwLTg3LTctMTE4LTE1em0yMDktMjUzYzg5LTQxIDE0MS0xNjEgMTUwLTM0OGw2LTExM2gtMjYzLTI2Mmw3IDc4YzE5IDIwMyA3NyAzMjYgMTc4IDM3NyA2MiAzMCAxMjUgMzIgMTg0IDZ6Ii8+CjxwYXRoIGQ9Im0xNzc4NSAyMDY1Yy0xMTQtMjUtMjA3LTcxLTI4My0xNDBsLTM4LTM0LTI4IDg1LTI3IDg0aC05NS05NHYtODUwLTg1MGgxMjkgMTMwbDMgNTIzYzQgNTA3IDUgNTI0IDI3IDU5NyAzMCAxMDAgNjUgMTYzIDEyNiAyMjYgOTIgOTMgMTk2IDEzMCAzNTEgMTIyIDUyLTMgOTQtMiA5NCAxIDAgNC03IDYxLTE1IDEyNi04IDY2LTE1IDEyMS0xNSAxMjMgMCA4LTIxNi0yLTI2NS0xM3oiLz4KPHBhdGggZD0ibTgxOTAgMTIxMHYtODUwaDEzMCAxMzB2ODUwIDg1MGgtMTMwLTEzMHYtODUweiIvPgo8cGF0aCBkPSJtMTIwNTAgMTIxMHYtODUwaDEzMCAxMzB2ODUwIDg1MGgtMTMwLTEzMHYtODUweiIvPgo8cGF0aCBkPSJtMTM5MTAgMjA1N2MwLTQgMzI5LTE2NTEgMzM1LTE2NzUgNS0yMiA4LTIyIDE1MC0yMiAxMjggMCAxNDQgMiAxNDkgMTggMiA5IDUzIDI1NiAxMTMgNTQ5IDU5IDI5MyAxMTAgNTI5IDExNCA1MjUgMy00IDU1LTI1MSAxMTQtNTQ5bDEwOS01NDNoMTQ2IDE0NWwxNjggODQzYzkyIDQ2MyAxNjggODQ1IDE2NyA4NTAgMCA0LTU4IDctMTI5IDctMTE1IDAtMTMwLTItMTM1LTE3LTItMTAtNTEtMjgwLTEwOC02MDBzLTEwNi01NzktMTA5LTU3NWMtNCA0LTU1IDI1Mi0xMTMgNTUyLTU5IDMwMC0xMTIgNTY2LTExOCA1OTNsLTEwIDQ3aC0xMzNjLTEzMCAwLTEzMy0xLTEzOC0yMi0zLTEzLTU2LTI4NS0xMTgtNjA2LTc0LTM4My0xMTYtNTc2LTEyMC01NjAtNCAxMy01NCAyODUtMTEwIDYwNmwtMTAzIDU4MmgtMTMzYy03MyAwLTEzMy0xLTEzMy0zeiIvPgo8L2c+Cjwvc3ZnPgo=" style="height: 5ex">
		<p><em><a href="https://questionablecontent.net/">Questionable Content by Jeph Jacques</a></p>
		<button onclick="prev()">↤</button>
		<input id="goto" type="number" pattern="[0-9]*" placeholder="№" onchange="go()">
		<button onclick="go()">Go</button>
		<button onclick="next()">↦</button>
	</div>
<div id="content"></div>
<script type="text/javascript">
let contentEl = document.getElementById('content')
let imgEls = []
const extensions = ['png', 'jpg', 'gif', 'jpeg']



function add(num) {
	if (num <= 0) return
	console.log(`add(${num})`)
	let imgEl = document.createElement("img")
	imgEl.src = `https://questionablecontent.net/comics/${num}.${extensions[0]}`
	imgEl.setAttribute("comic", num)
	imgEl.addEventListener("error", () => cycleExtension(imgEl))

	let prevEl = contentEl.querySelector(`[comic="${num - 1}"]`)
	if (prevEl !== null) {
		contentEl.insertBefore(imgEl, prevEl.nextSibling)

	} else {
		let nextEl = contentEl.querySelector(`[comic="${num + 1}"]`)
		if (nextEl !== null) {
			contentEl.insertBefore(imgEl, nextEl)
		} else {
			clear()
			contentEl.appendChild(imgEl)
		}

	}
	imgEls[num] = imgEl
	history.replaceState(null, '', `?${num}`)
}
const prev = () => add(imgEls.findIndex(i => i) - 1)
const next = () => add(imgEls.length)

function cycleExtension(imgEl) {
	let ext = imgEl.src.match(/\.(\w+$)/)[1]
	let i = extensions.indexOf(ext)
	let newExt = extensions[i + 1]
	if (newExt !== undefined) {
		imgEl.src = imgEl.src.slice(0, -ext.length) + newExt
	} else {
		imgEl.alt = `Couldn’t find comic ${imgEl.getAttribute('comic')}…`
	}
}

function which() {
	for (var i = imgEls.length - 1; i > 0; i--) {
		let imgEl = imgEls[i]
		if (imgEl === undefined) continue
		let t = imgEl.getBoundingClientRect().top
		if (t < window.innerHeight/2) break
	}
	if (i == imgEls.length - 1) next()
	return i
}

function clear() {
	imgEls.map(el => el.remove())
	imgEls = []
}

function go() {
	add(document.getElementById("goto").value)
}

function bookmark() {
	let n = window.location.search.slice(1)
	add(n || 1)
}

window.addEventListener('scroll', () => {
	document.title = `QC: № ${which()}`
})

bookmark()
</script>
</body>
</html>